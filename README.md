# Afisha Loyalty Analysis

## Описание проекта
Анализ поведения пользователей Яндекс Афиши с целью выявления факторов,
влияющих на повторные покупки и удержание клиентов.

## Цели проекта
- Исследовать данные о заказах пользователей сервиса.
- Определить ключевые факторы, влияющие на повторные покупки.
- Понять, какие сегменты пользователей проявляют наибольшую лояльность.
- Построить профиль пользователей и выделить группы риска.

## Стек
- Python
- pandas, numpy
- matplotlib, seaborn
- phik
- Jupyter Notebook
- 
## Структура проекта
- `notebooks/` — основной анализ и визуализации
- `data/` — исходные данные (не публикуются)
- `.env.example` — пример переменных окружения
- `requirements.txt` — зависимости проекта

## Данные
Использованы данные о заказах пользователей:
- информация о первом заказе;
- количество заказов;
- средняя выручка;
- среднее число билетов;
- временные интервалы между покупками.
- информацию о заказах пользователей,
- тип устройства,
- данные о событии,
- город и регион.

Данные были очищены от пропусков и выбросов, приведены к корректным типам.

## Предобработка
- привели выручку к единой валюте,
- убрали отрицательные значения,
- удалили выбросы по 99-перцентилю,
- обработали пропуски,
- привели данные к удобным типам.

## Основные исследования
- сегментация пользователей по количеству заказов;
- анализ влияния количества билетов на возвраты;
- сравнение средней выручки групп 2–4 заказа и 5+ заказов;
- анализ поведения повторных покупателей.

## Ключевые выводы
- большинство пользователей делают 2–3 заказа, этот сегмент самый лояльный;
- пользователи с 5+ заказами показывают самую стабильную выручку;
- сегменты 1–2 и 5+ имеют низкую вовлечённость;
- количество билетов напрямую связано с вероятностью повторной покупки;
- ключевая зона роста сервиса — пользователи, покупающие 2–3 билета.

## Как запустить
```bash
pip install -r requirements.txt
